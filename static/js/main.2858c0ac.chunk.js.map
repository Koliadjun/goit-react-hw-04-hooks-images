{"version":3,"sources":["components/Button/button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchInputValue","setSearchInputValue","className","e","preventDefault","type","onChange","currentTarget","value","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","src","onClick","largeImg","alt","Button","children","s","propType","PropTypes","element","func","isRequired","BASE_URL","STATUS","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ImageGallery","searchQuery","images","setImage","page","setPage","perPage","status","setStatus","fetchCallBack","useCallback","fetch","then","r","json","data","hits","length","Error","useEffect","catch","errorCatch","toast","error","message","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","setTimeout","map","image","webformatURL","largeImageURL","id","modalDiv","querySelector","Modal","url","onClose","keyPressHandler","code","addEventListener","removeEventListener","createPortal","target","App","setSearchQuery","showModal","setShowModal","setUrl","onCloseHandler","newestOnTop","rtl","pauseOnFocusLoss","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2858c0ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Searchbar({ onSubmit }) {\n  const [searchInputValue, setSearchInputValue] = useState('');\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    onSubmit(searchInputValue);\n    setSearchInputValue('');\n  };\n  const onChangeHandler = e => {\n    setSearchInputValue(e.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <>\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={onSubmitHandler}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={onChangeHandler}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchInputValue}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({ src, onClick, largeImg }) {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onClick(largeImg)}>\n      <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  largeImg: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './button.module.css';\nconst Button = ({ children, onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\nButton.propType = {\n  children: PropTypes.element,\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?key=21859893-eed1f1d786560e2667ad1f26b&image_type=photo&orientation=horizontal';\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  rejected: 'rejected',\n  resolved: 'resolved',\n};\nconst options = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n};\nfunction ImageGallery({ searchQuery, onClick }) {\n  const [images, setImage] = useState([]);\n  const [page, setPage] = useState(1);\n  const [perPage] = useState(12);\n  const [status, setStatus] = useState(STATUS.idle);\n\n  const fetchCallBack = useCallback(\n    (page = 1) => {\n      setStatus(STATUS.pending);\n      return fetch(\n        `${BASE_URL}&q=${searchQuery}&per_page=${perPage}&page=${page}`,\n      )\n        .then(r => r.json())\n        .then(data => {\n          if (data.hits.length === 0) {\n            throw new Error(`Немає фото за пошуковим запитом \"${searchQuery}\"`);\n          } else {\n            return data;\n          }\n        });\n    },\n    [perPage, searchQuery],\n  );\n\n  useEffect(() => {\n    if (searchQuery !== '') {\n      fetchCallBack()\n        .then(data => {\n          setImage([...data.hits]);\n          setPage(1);\n          setStatus(STATUS.resolved);\n        })\n        .catch(errorCatch => {\n          setStatus(STATUS.rejected);\n          toast.error(`${errorCatch.message}`, options);\n        });\n    }\n  }, [searchQuery, fetchCallBack]);\n\n  useEffect(() => {\n    if (page > 1) {\n      fetchCallBack(page)\n        .then(data => {\n          setImage(prevState => {\n            return [...prevState, ...data.hits];\n          });\n          setStatus(STATUS.resolved);\n        })\n        .then(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(errorCatch => {\n          setStatus(STATUS.rejected);\n          toast.error(`${errorCatch.message}`, options);\n        });\n    }\n  }, [page, searchQuery, fetchCallBack]);\n\n  const loadMoreClickHandler = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  if (status === STATUS.idle) {\n    return <h2 className={'title'}>Введіть пошуковий запит</h2>;\n  }\n  if (status === STATUS.pending) {\n    return (\n      <div className=\"loaderWrapper\">\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n      </div>\n    );\n  }\n  if (status === STATUS.rejected) {\n    setTimeout(() => {\n      setStatus(STATUS.idle);\n    }, 5000);\n    return <></>;\n  }\n  if (status === STATUS.resolved) {\n    return (\n      <>\n        <ul className=\"ImageGallery\">\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.id}\n              src={image.webformatURL}\n              largeImg={image.largeImageURL}\n              onClick={onClick}\n            />\n          ))}\n        </ul>\n        <div className=\"buttonWrapper\">\n          <Button onClick={loadMoreClickHandler}>Load more</Button>\n        </div>\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = { searchQuery: PropTypes.string };\nexport default ImageGallery;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nconst modalDiv = document.querySelector('#modal-root');\nfunction Modal({ url, onClose }) {\n  const keyPressHandler = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n  const backDropClickHandle = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('keydown', keyPressHandler);\n    return () => window.removeEventListener('keydown', keyPressHandler);\n  });\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={backDropClickHandle}>\n      <div className=\"Modal\">\n        <img src={url} alt=\"large img\" />\n      </div>\n    </div>,\n    modalDiv,\n  );\n}\n\nModal.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  scr: PropTypes.string.isRequired,\n};\nexport default Modal;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport React, { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport { ToastContainer } from 'react-toastify';\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [url, setUrl] = useState('');\n\n  const onSubmitHandler = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n  const onCloseHandler = url => {\n    setShowModal(showModal => !showModal);\n    setUrl(url);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onSubmitHandler} />\n      <ImageGallery searchQuery={searchQuery} onClick={onCloseHandler} />\n      {showModal && <Modal url={url} onClose={onCloseHandler} />}\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport './styles.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}