{"version":3,"sources":["components/Button/button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","searchInputValue","onSubmit","e","preventDefault","props","setState","onChange","currentTarget","value","toLowerCase","className","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","onClick","largeImg","alt","Button","children","s","propType","PropTypes","element","func","isRequired","BASE_URL","STATUS","options","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ImageGallery","images","page","perPage","status","error","fetchData","searchQuery","fetch","then","r","json","data","hits","length","Error","loadMoreClickHandler","prevState","prevProps","catch","toast","message","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","setTimeout","map","image","webformatURL","largeImageURL","id","modalDiv","querySelector","Modal","keyPressHandler","code","onClose","backDropClickHandle","target","addEventListener","removeEventListener","createPortal","url","App","showModal","onSubmitHandler","onCloseHandler","newestOnTop","rtl","pauseOnFocusLoss","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.47a5a6d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Searchbar extends Component {\n  static propTypes = { onSubmit: PropTypes.func.isRequired };\n  state = {\n    searchInputValue: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchInputValue);\n    this.setState({ searchInputValue: '' });\n  };\n  onChange = e => {\n    this.setState({ searchInputValue: e.currentTarget.value.toLowerCase() });\n  };\n  render() {\n    return (\n      <>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.onSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              onChange={this.onChange}\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.searchInputValue}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ImageGalleryItem extends Component {\n  static propTypes = {\n    key: PropTypes.string.isRequired,\n    src: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n    largeImg: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { src, onClick, largeImg } = this.props;\n    return (\n      <li className=\"ImageGalleryItem\" onClick={() => onClick(largeImg)}>\n        <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './button.module.css';\nconst Button = ({ children, onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\nButton.propType = {\n  children: PropTypes.element,\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL =\n  'https://pixabay.com/api/?key=21859893-eed1f1d786560e2667ad1f26b&image_type=photo&orientation=horizontal';\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  rejected: 'rejected',\n  resolved: 'resolved',\n};\nconst options = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n};\nexport class ImageGallery extends Component {\n  static propTypes = { searchQuery: PropTypes.string };\n  state = {\n    images: [],\n    page: 1,\n    perPage: 12,\n    status: STATUS.idle,\n    error: null,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.fetchData()\n        .then(data =>\n          this.setState({\n            images: [...data.hits],\n            page: 1,\n            status: STATUS.resolved,\n          }),\n        )\n        .catch(error => {\n          this.setState({ status: STATUS.rejected, error });\n          toast.error(`${error.message}`, options);\n        });\n    }\n    if (\n      prevState.page !== this.state.page &&\n      this.state.page > 1 &&\n      prevProps.searchQuery === this.props.searchQuery\n    ) {\n      this.fetchData(this.state.page)\n        .then(data =>\n          this.setState({\n            images: [...prevState.images, ...data.hits],\n            status: STATUS.resolved,\n          }),\n        )\n        .then(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        })\n        .catch(error => {\n          this.setState({ status: STATUS.rejected, error });\n          toast.error(`${error.message}`, options);\n        });\n    }\n  }\n  fetchData = (page = 1) => {\n    const { perPage } = this.state;\n    const { searchQuery } = this.props;\n    this.setState({ status: STATUS.pending });\n    return fetch(\n      `${BASE_URL}&q=${searchQuery}&per_page=${perPage}&page=${page}`,\n    )\n      .then(r => r.json())\n      .then(data => {\n        if (data.hits.length === 0) {\n          throw new Error(`Немає фото за пошуковим запитом \"${searchQuery}\"`);\n        } else {\n          return data;\n        }\n      });\n  };\n\n  loadMoreClickHandler = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n  render() {\n    const { status } = this.state;\n\n    if (status === STATUS.idle) {\n      return <h2 className={'title'}>Введіть пошуковий запит</h2>;\n    }\n    if (status === STATUS.pending) {\n      return (\n        <div className=\"loaderWrapper\">\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n        </div>\n      );\n    }\n    if (status === STATUS.rejected) {\n      setTimeout(() => {\n        this.setState({ status: STATUS.idle });\n      }, 5000);\n      return <></>;\n    }\n    if (status === STATUS.resolved) {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {this.state.images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                src={image.webformatURL}\n                largeImg={image.largeImageURL}\n                onClick={this.props.onClick}\n              />\n            ))}\n          </ul>\n          <div className=\"buttonWrapper\">\n            <Button onClick={this.loadMoreClickHandler}>Load more</Button>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nconst modalDiv = document.querySelector('#modal-root');\nexport class Modal extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    scr: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  };\n  state = {};\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyPressHandler);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyPressHandler);\n  }\n\n  keyPressHandler = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  backDropClickHandle = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.backDropClickHandle}>\n        <div className=\"Modal\">\n          <img src={this.props.url} alt=\"large img\" />\n        </div>\n      </div>,\n      modalDiv,\n    );\n  }\n}\n\nexport default Modal;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport { ToastContainer } from 'react-toastify';\n\nexport class App extends Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    url: '',\n  };\n\n  onSubmitHandler = searchQuery => {\n    this.setState({ searchQuery });\n  };\n  onCloseHandler = url => {\n    this.setState(({ showModal }) => ({ showModal: !showModal, url: url }));\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmitHandler} />\n        <ImageGallery\n          searchQuery={this.state.searchQuery}\n          onClick={this.onCloseHandler}\n        />\n        {this.state.showModal && (\n          <Modal url={this.state.url} onClose={this.onCloseHandler} />\n        )}\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport './styles.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}